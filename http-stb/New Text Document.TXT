conn: <socket.socket fd=508, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8080), raddr=('127.0.0.1', 62206)> addr ('127.0.0.1', 62206) recv b'GET / HTTP/1.1\r\nHost: 127.0.0.1:8080\r\nConnection: keep-alive\r\nCache-Control: max-age=0\r\nDNT: 1\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36 Edg/84.0.522.52\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\nSec-Fetch-Site: none\r\nSec-Fetch-Mode: navigate\r\nSec-Fetch-User: ?1\r\nSec-Fetch-Dest: document\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: en-US,en;q=0.9\r\nCookie: csrftoken=89Ew8QQhlXu3KHLWHnI4F62tx9nLqhx6iK9CoS2drvpoud4x9cFJ2bdHtvBk0LrR; sessionid=qufd74yhlzk05t3ulag5lsbmzbnqvnkm\r\n\r\n'
optional_headers=('''Content-Length: 55743
Connection: keep-alive
Cache-Control: s-maxage=300, public, max-age=0
Content-Language: en-US
Date: Thu, 06 Dec 2018 17:37:18 GMT
ETag: "2e77ad1dc6ab0b53a2996dfd4653c1c3"
Server: meinheld/0.6.1
Strict-Transport-Security: max-age=63072000
X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1; mode=block
Vary: Accept-Encoding,Cookie
Age: 7
''')
file=open('fir.mp3','rb')
x=file.read()
lator='''
var ws = new WebSocket("wss://discord-whatsapp-link.herokuapp.com/");
                
            ws.onmessage = function (event) {
                var content = document.createTextNode(event.data);
				console.log(content);
				element.currentTime = 50.00;
element.onended = function() {
    alert("The audio has ended");
};

				'''

response=('''
HTTP/1.1 200 OK
Content-Type: text/html; charset=utf-8
Connection: keep-alive
Cache-Control: s-maxage=300, public, max-age=0
Content-Language: en-US
Date: Thu, 06 Dec 2018 17:37:18 GMT
ETag: "2e77ad1dc6ab0b53a2996dfd4653c1c3"
Server: meinheld/0.6.1
Strict-Transport-Security: max-age=63072000
X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1; mode=block
Vary: Accept-Encoding,Cookie
Age: 7



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>A simple webpage</title>
</head>
<body onload="skipper()">
  <h1>Simple HTML5 webpage</h1>
  <p>Hello, world!</p>
  <audio controls autoplay id="player1">
  <source src="./luck.mp3" type="audio/mp3">
</audio>
<script>
function skipper(){

var ws = new WebSocket("ws://127.0.0.1:5678/");
                
            ws.onmessage = function (event) {
            var element = document.getElementById('player1');
            element.play();
                var content = document.createTextNode(event.data);
				console.log(content);}

            



}
</script>
</body>
</html>
''')
new = '''
HTTP/1.1 200 OK
Content-Type: text/html; charset=utf-8
Connection: keep-alive
Cache-Control: s-maxage=300, public, max-age=0
Content-Language: en-US
Date: Thu, 06 Dec 2018 17:37:18 GMT
ETag: "2e77ad1dc6ab0b53a2996dfd4653c1c3"
Server: meinheld/0.6.1
Strict-Transport-Security: max-age=63072000
X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1; mode=block
Vary: Accept-Encoding,Cookie
Age: 7
<!DOCTYPE html>
<html>
  <head>
    
  </head>
  <body>
  <h1>hell</h1>
  <h2>leh</h2>
  <script language="javascript">
      var ctx = new webkitAudioContext();
      function playSound(arrBuff) {
        var src = ctx.createBufferSource();
        src.buffer = ctx.createBuffer(arrBuff, false);
        src.looping = false;
        src.connect(ctx.destination);
        src.noteOn(0);
      }
      var ws = new WebSocket('ws://127.0.0.1:5678/');
      ws.binaryType = 'arraybuffer';
      ws.onmessage = function(e) {
        console.log(e.data.byteLength);
        playSound(e.data);
        console.log(e.data);
      }
    </script>
  </body>
</html>'''











websocket
GET /room HTTP/1.1

Host: 127.0.0.1:1234

User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:79.0) Gecko/20100101 Firefox/79.0

Accept: */*

Accept-Language: en-US,en;q=0.5

Accept-Encoding: gzip, deflate

Sec-WebSocket-Version: 13

Origin: null

Sec-WebSocket-Extensions: permessage-deflate

Sec-WebSocket-Key: jM6m+Ffu4rqioVP5x8pnkA==

Connection: keep-alive, Upgrade

Pragma: no-cache

Cache-Control: no-cache

Upgrade: websocket
